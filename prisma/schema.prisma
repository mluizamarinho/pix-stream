generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model MensagemPix {
  id                 String   @id @default(uuid())
  endToEndId         String
  valor              Float
  pagadorNome        String
  pagadorCpfCnpj     String
  pagadorAgencia     String
  pagadorConta       String
  pagadorTipoConta   String
  recebedorNome      String
  recebedorCpfCnpj   String
  recebedorIspb      String
  recebedorAgencia   String
  recebedorConta     String
  recebedorTipoConta String
  campoLivre         String?
  txId               String
  dataHoraPagamento  DateTime

  pixStreamId        String?
  pixStream          PixStream? @relation(fields: [pixStreamId], references: [id])
}

model PixStream {
  id             String   @id @default(uuid())
  interactionId  String
  ispb           String
  lastReadId     String

  mensagens     MensagemPix[]
}
